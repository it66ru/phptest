создается таблица учета кликов:
 - дата
 - время
 - хэш уникальность (например ip)
индекс: дата, хэш

раз в минуту делается запрос:
select count(1), count(distinct hash) from click where date = date(now())
и результаты складываются в какой-то кэш или результирующую таблицу





